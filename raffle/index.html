<!DOCTYPE html>
<html lang="en">
<head>
  <title>R2K2 | Active Raffles</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Active raffles for the R2K2 community. Wager to enter and win!" />
  <meta property="og:image" content="/assets/logo.png" />
  <link rel="icon" type="image/png" href="/assets/logo.png" />

  <!-- Keep your site CSS exactly as-is -->
  <link rel="stylesheet" href="/css/app.css" />
  <link rel="stylesheet" href="/css/vendor.css" />
  <link rel="stylesheet" href="/css/toast.css" />

  <style>
    :root{
      --bg-deep:#070b12;
      --card:#0b0f17;
      --border:#1b2a40;
      --ink:#e9f5ff;
      --muted:#a6c9ef;
      --blue:#1398ff;
      --purple:#6b5cff;
    }
    html,body{background:var(--bg-deep);color:var(--ink);margin:0}

    /* ===== Header (unchanged visual language; links fixed) ===== */
    #r2kHeader{
      position:sticky; top:0; z-index:2000;
      background:linear-gradient(180deg, rgba(7,10,16,0.98) 0%, rgba(5,8,13,0.98) 85%, rgba(3,5,9,1) 100%);
      backdrop-filter:blur(6px);
      border:none !important;
      box-shadow:0 4px 12px rgba(0,0,0,.4);
    }
    #r2kHeader .h-inner{max-width:1200px;margin:0 auto;padding:14px 20px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:16px}
    #r2kHeader .brand{display:flex;align-items:center;gap:10px;text-decoration:none}
    #r2kHeader .brand .logo{width:40px;height:40px;border-radius:50%;object-fit:cover;box-shadow:0 0 12px rgba(19,152,255,.35)}
    #r2kHeader .brand .name{font-size:22px;font-weight:800;color:#fff}
    #r2kHeader .brand .name .accent{color:var(--blue);text-shadow:0 0 10px rgba(19,152,255,.5)}
    #r2kHeader .nav{display:flex;justify-content:center;gap:26px}
    #r2kHeader .nav a, #r2kHeader .nav button{color:#e8f4ff;background:none;border:0;cursor:pointer;text-decoration:none;font-weight:700;font-size:14px;opacity:.92;padding:8px 6px;border-radius:8px;transition:.18s}
    #r2kHeader .nav a:hover, #r2kHeader .nav button:hover{color:#fff;text-shadow:0 0 10px rgba(19,152,255,.45)}
    #r2kHeader .actions{display:flex;justify-content:flex-end;gap:12px}
    #r2kHeader .btn{display:inline-flex;align-items:center;gap:8px;font-weight:800;font-size:14px;padding:10px 16px;border-radius:999px;text-decoration:none;border:1px solid rgba(19,152,255,.25);color:#0a1626;background:linear-gradient(90deg,#22b1ff,#1398ff);box-shadow:0 6px 20px rgba(19,152,255,.35),inset 0 0 10px rgba(255,255,255,.08);transition:transform .15s,box-shadow .15s,filter .15s}
    #r2kHeader .btn:hover{transform:translateY(-1px);filter:brightness(1.08);box-shadow:0 8px 26px rgba(19,152,255,.5)}
    #r2kHeader .btn.outline{background:transparent;color:#e8f4ff;border-color:rgba(19,152,255,.45);box-shadow:0 0 16px rgba(19,152,255,.25) inset}
    #r2kHeader .btn.outline:hover{background:rgba(19,152,255,.08);color:#fff}
    #r2kHeader .hamburger{display:none;justify-self:end;cursor:pointer}
    #r2kHeader .hamburger span{display:block;width:24px;height:3px;margin:4px 0;background:#e8f4ff;border-radius:2px}
    #r2kHeader::after{content:"";position:absolute;left:0;right:0;bottom:-4px;height:2px;background:linear-gradient(90deg,rgba(0,0,0,0) 0%,rgba(19,152,255,.45) 20%,rgba(19,152,255,.9) 50%,rgba(19,152,255,.45) 80%,rgba(0,0,0,0) 100%);box-shadow:0 0 18px rgba(19,152,255,.4);pointer-events:none;z-index:100}
    /* Mobile */
    @media (max-width:900px){
      #r2kHeader .h-inner{grid-template-columns:auto auto auto}
      #r2kHeader .nav{
        display:none; position:absolute; top:60px; left:0; right:0;
        background:#080f19; border-top:1px solid rgba(19,152,255,.15);
        padding:12px 20px; gap:16px; flex-direction:column;
      }
      #r2kHeader .nav.show{display:flex}
      #r2kHeader .actions{display:none}
      /* Stacked hamburger lines */
      #r2kHeader .hamburger{display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px}
      #r2kHeader .hamburger span{
        display:block; width:26px; height:3px; background:#e8f4ff; border-radius:2px;
      }
    }

    /* ===== Page layout & tabs (unchanged) ===== */
    .wrap{max-width:1200px;margin:0 auto;padding:24px 20px}
    .hero-title{font-weight:900;font-size:42px;text-align:center;margin-top:18px}
    .hero-sub{font-size:14px;color:var(--muted);text-align:center;margin-top:6px}

    .tabs{
      display:flex;justify-content:center;gap:10px;margin-top:20px;flex-wrap:wrap
    }
    .tab-btn{
      background:#0c1320;border:1px solid var(--border);color:#cfe9ff;
      padding:10px 14px;border-radius:999px;font-weight:800;cursor:pointer;
      transition:.15s
    }
    .tab-btn.active{background:linear-gradient(90deg,#22b1ff,#1398ff);color:#08111a;border-color:#0f5da1}
    .panel{display:none;margin-top:24px}
    .panel.active{display:block}

    /* Cards */
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-top:8px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:20px;
      box-shadow:0 0 24px rgba(107,92,255,.07);
    }
    .prize{font-size:46px;font-weight:900;text-align:center;margin-top:6px}
    .prize-label{text-align:center;color:var(--muted);font-weight:800;letter-spacing:.08em;margin-top:6px}
    .pill-row{display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-top:18px}
    @media (max-width:520px){.pill-row{grid-template-columns:1fr}}
    .pill{background:#0c1320;border:1px solid var(--border);border-radius:12px;padding:14px;text-align:center}
    .pill .big{font-weight:900}
    .pill .cap{font-size:12px;color:var(--muted);margin-top:4px}
    .stat{background:#0c1320;border:1px solid var(--border);border-radius:12px;padding:14px;text-align:center;margin-top:18px}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
      width:100%; padding:14px 16px; border-radius:12px; margin-top:18px;
      border:1px solid #2b2466; background:rgba(107,92,255,.1); color:#f0eaff; font-weight:800; cursor:pointer;
      transition:.18s;
    }
    .btn:hover{filter:brightness(1.07);box-shadow:0 0 18px rgba(107,92,255,.25) inset}
    .btn.alt{border-color:#0f5da1;background:linear-gradient(90deg,#22b1ff,#1398ff);color:#08111a;box-shadow:0 6px 20px rgba(19,152,255,.35)}

    .bar{height:12px;background:#081321;border:1px solid var(--border);border-radius:999px;overflow:hidden}
    .fill{height:100%;width:0;background:linear-gradient(90deg,#1398ff,#48c7ff);box-shadow:0 0 12px rgba(0,153,255,.55);transition:width .8s ease}
    .meta{display:flex;justify-content:space-between;font-size:12px;color:var(--muted);margin-top:6px}
    .meta .strong{color:#fff;font-weight:800}

    /* Draw modal + spinner */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;z-index:3000}
    .modal .sheet{background:var(--card);border:1px solid var(--border);border-radius:14px;max-width:640px;width:92%;padding:18px}
    .close-x{background:transparent;border:1px solid var(--border);padding:8px 12px;border-radius:10px;color:#cfe9ff;cursor:pointer}
    .roller{
      margin:16px auto 8px; height:48px; overflow:hidden; border:1px solid var(--border); border-radius:10px; background:#0a101a;
    }
    .roller .strip{
      display:flex; flex-direction:column; gap:6px; padding:10px; transform:translateY(0);
      transition:transform 2.2s cubic-bezier(.2,.7,0,1);
    }
    .strip .name{line-height:28px; text-align:center; font-weight:800}

    /* Winners table */
    table.wins{width:100%; border-collapse:collapse; margin-top:10px; font-size:14px}
    .wins th,.wins td{border-bottom:1px solid #0f1c2c; padding:10px 8px; text-align:left}
    .wins th{color:#cfe9ff; font-weight:900}
  </style>
</head>
<body>
  <!-- Header -->
  <header id="r2kHeader">
    <div class="h-inner">
      <a href="/" class="brand" aria-label="R2K2 Home">
        <img src="/assets/logo.png" class="logo" alt="R2K2">
        <!-- Both 2's blue -->
        <div class="name">R<span class="accent">2</span>K<span class="accent">2</span></div>
      </a>

      <nav class="nav" id="r2kNav">
        <a href="/">Home</a>
        <a href="/leaderboard/rainbet">Leaderboard</a>
        <a href="/raffle" aria-current="page">Raffle</a>
        <a href="/challenges">Challenges</a>
      </nav>

      <div class="actions">
        <!-- Removed Register per your direction; keep only Join Rainbet -->
        <a class="btn" href="https://rainbet.com/?r=r2k2" target="_blank" rel="noopener">Join Rainbet</a>
      </div>

      <!-- Stacked hamburger for mobile -->
      <div class="hamburger" id="hamburger" aria-label="Menu" aria-controls="r2kNav" aria-expanded="false">
        <span></span><span></span><span></span>
      </div>
    </div>
  </header>

  <!-- Everything below remains EXACTLY as you sent -->
  <main class="wrap">
    <h1 class="hero-title">R2K2 <span style="color:var(--blue);text-shadow:0 0 10px rgba(19,152,255,.45)">Raffles</span></h1>
    <p class="hero-sub">One ticket per qualified entrant. Draws run automatically. Good luck! âœ¨</p>

    <div class="tabs">
      <button class="tab-btn active" data-tab="weekly">Weekly</button>
      <button class="tab-btn" data-tab="monthly">Monthly</button>
      <button class="tab-btn" data-tab="previous">Previous Winners</button>
    </div>

    <!-- WEEKLY -->
    <section class="panel active" id="panel-weekly">
      <div class="grid">
        <article class="card">
          <div class="prize" id="w-prize">$25.00</div>
          <div class="prize-label">WEEKLY CASH â€¢ 1 WINNER</div>

          <div class="pill-row">
            <div class="pill">
              <div class="big" id="w-min">$250.00</div>
              <div class="cap">Min Wager (7 days)</div>
            </div>
            <div class="pill">
              <div class="big" id="w-remaining">--</div>
              <div class="cap">Remaining (CST)</div>
            </div>
          </div>

          <div class="stat">
            <div class="count" id="w-participants">0</div>
            <div class="cap">Qualified Entrants</div>
          </div>

          <div class="meta" style="margin-top:10px">
            <span>Window:</span>
            <span id="w-window">â€”</span>
          </div>

          <button class="btn alt" id="w-view">ðŸ‘¥ View Entrants</button>
          <button class="btn" id="w-force">ðŸŽ¬ Force Draw (admin)</button>
        </article>
      </div>
    </section>

    <!-- MONTHLY -->
    <section class="panel" id="panel-monthly">
      <div class="grid">
        <article class="card">
          <div class="prize" id="m-prize">$100.00</div>
          <div class="prize-label">MONTHLY CASH â€¢ 1 WINNER</div>

          <div class="pill-row">
            <div class="pill">
              <div class="big" id="m-min">$5,000.00</div>
              <div class="cap">Min Wager (30 days)</div>
            </div>
            <div class="pill">
              <div class="big" id="m-remaining">--</div>
              <div class="cap">Remaining (CST)</div>
            </div>
          </div>

          <div class="stat">
            <div class="count" id="m-participants">0</div>
            <div class="cap">Qualified Entrants</div>
          </div>

          <div class="meta" style="margin-top:10px">
            <span>Window:</span>
            <span id="m-window">â€”</span>
          </div>

          <button class="btn alt" id="m-view">ðŸ‘¥ View Entrants</button>
          <button class="btn" id="m-force">ðŸŽ¬ Force Draw (admin)</button>
        </article>
      </div>
    </section>

    <!-- PREVIOUS WINNERS -->
    <section class="panel" id="panel-previous">
      <article class="card">
        <h3 style="margin:0 0 8px 0">Previous Winners</h3>
        <p class="hero-sub" style="text-align:left;margin:0 0 10px 0">Auto-logged after each draw. Server entries shown first.</p>
        <table class="wins" id="wins-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Raffle</th>
              <th>Winner</th>
              <th>Prize</th>
              <th>Entries</th>
              <th>Tx</th>
            </tr>
          </thead>
          <tbody id="wins-body">
            <tr><td colspan="6" style="padding:14px 8px;color:#a6c9ef">Loadingâ€¦</td></tr>
          </tbody>
        </table>
      </article>
    </section>
  </main>

  <!-- Draw / Entrants Modal -->
  <div class="modal" id="drawModal" aria-hidden="true">
    <div class="sheet">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
        <h3 id="drawTitle" style="margin:0">Drawingâ€¦</h3>
        <button class="close-x" id="closeModal">Close</button>
      </div>

      <!-- roller -->
      <div class="roller" id="roller" style="display:none">
        <div class="strip" id="strip"></div>
      </div>

      <!-- entrants list -->
      <div id="entrantList" style="max-height:360px;overflow:auto;border:1px dashed var(--border);border-radius:10px;margin-top:10px;padding:8px 0"></div>

      <div id="winnerLine" style="margin-top:12px;font-weight:900;font-size:18px"></div>
    </div>
  </div>

  <!-- ====== JS (unchanged) ====== -->
  <script>
    /* Mobile hamburger */
    (function(){
      const burger=document.getElementById('hamburger');
      const nav=document.getElementById('r2kNav');
      if(burger&&nav){
        burger.addEventListener('click',()=>{
          const open = nav.classList.toggle('show');
          burger.setAttribute('aria-expanded', String(open));
        });
      }
    })();
  </script>

  <!-- Keep the rest of your original scripts below here (unchanged) -->
</body>
</html>